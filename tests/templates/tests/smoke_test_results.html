{% load static %}
{% load cobalt_tags %}

<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://unpkg.com/@popperjs/core@2"></script>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
              rel="stylesheet">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

        <title>{{ document_title }}</title>
    </head>
    <body>
        <!-- example 1 - using absolute position for center -->
        <nav class="navbar navbar-expand-md navbar-dark bg-primary">
            <div class="container-fluid">
                <i class="material-icons" style="color: white;font-size: 40px;">{{ icon }}</i>

                <div class="navbar-collapse collapse" id="collapseNavbar">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="http://127.0.0.1:8088">Test Site</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <h1 class="text-center pt-03" style="font-size: 70px">{{ document_title }}</h1>
        <div class="jumbotron">
            <div class="container">
                <h3 class="text-center">Run at {{ start_time| date:"D jS M Y P" }}</h3>
                <h3 class="text-center">Elapse: {{ start_time|timesince }}</h3>

                {#  Overall Score  #}
                <div class="container">
                    <div class="row justify-content-center align-items-center">
                        <div class="col-1">

                            {% if total_passing == total_length %}
                                <i class="material-icons"
                                   style="color: blue;font-size: 95px;">
                                    check_circle
                                </i>

                            {% else %}

                                <span class="material-icons" style="color: red; font-size: 95px;">
                                    error
                                </span>

                            {% endif %}

                        </div>

                        <div class="col-1">
                            <div class="text-center" style="font-size: 118px; font-family: 'Patrick Hand', cursive;">
                                {{ total_score }}
                            </div>
                        </div>
                    </div>
                </div>

                <h1 class="text-center">Pass Rate {{ total_passing }}/{{ total_length }}</h1>

                <h4 class="pt-4">Results</h4>
                <div class="table-responsive col-md-9 mb-3">
                    <table class="table table-striped border-primary table-sm table-bordered">
                        <thead>
                            <tr>
                                <th>Test</th>
                                <th class="text-center">Outcome</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for result, status in results.items %}
                                <tr>
                                    <td>
                                        <a href="{{ result }}/results.html">
                                            {{ result }}
                                        </a>
                                    </td>
                                    <td class="text-center">
                                        {% if status %}
                                            <span class="material-icons" style="color: blue">
                                                check_circle
                                            </span>
                                        {% else %}
                                            <span class="material-icons" style="color: red">
                                                error
                                            </span>
                                        {% endif %}


                                    </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

            </div>
        </div>

    </body>

    <footer>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://unpkg.com/@popperjs/core@2"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>

    </footer>

</html>

