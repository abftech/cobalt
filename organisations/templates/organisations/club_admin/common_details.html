{#------------------------------------------------------------------------#}
{#  Common details section for members of contacts                        #}
{#                                                                        #}
{#  Expects context:                                                      #}
{#      edit_details: boolean editing mode flag                           #}
{#      form: the MemberClubDetailsForm form                              #}
{#      member_deatils: the augmented member or contact details           #}
{#------------------------------------------------------------------------#}

{% load static %}
{% load cobalt_tags %}
{% load widget_tweaks %}
{% load crispy_forms_tags %}

<!-- EMAIL -->
<div class="row pb-2">
    <div class="col-2 justify-content-center align-self-center pt-3">
        Email
    </div>
    <div class="col-8">
        <div id="div_id_email" class="form-group">
            <span class="cobalt-form-error" id="id_email_errors">
                {{ form.email.errors|striptags }}
            </span>
            {% if edit_details %}
                {% render_field form.email class+="form-control" %}
            {% else %}
                {{ form.email.value|default:'-' }}
            {% endif %}
        </div>
    </div>
</div>
{% if member_details.email_hard_bounce %}
    <div class="row pb-2">
        <div class="col-2"></div>
        <div class="col-8">
            Warning - this email address bounced!
        </div>
    </div>
{% endif %}

<!-- MOBILE AND OTHER PHONE -->
<div class="row pb-2">
    <div class="col-2 justify-content-center align-self-center">
        Mobile
    </div>
    <div class="col-3">
        <div id="div_id_mobile" class="form-group">
            <span class="cobalt-form-error" id="id_mobile_errors">
                {{ form.mobile.errors|striptags }}
            </span>
            {% if edit_details %}
                {% render_field form.mobile class+="form-control" %}
            {% else %}
                {{ form.mobile.value|default:'-' }}
            {% endif %}
        </div>
    </div>
    <div class="col-2 justify-content-center align-self-center">
        Other phone
    </div>
    <div class="col-3">
        <div id="div_id_other_phone" class="form-group">
            <span class="cobalt-form-error" id="id_other_phone_errors">
                {{ form.other_phone.errors|striptags }}
            </span>
            {% if edit_details %}
                {% render_field form.other_phone class+="form-control" %}
            {% else %}
                {{ form.other_phone.value|default:'-' }}
            {% endif %}
        </div>
    </div>
</div>

<!-- ADDRESS 1 -->
<div class="row pb-2">
    <div class="col-2 justify-content-center align-self-center pt-3">
        Address 1
    </div>
    <div class="col-8">
        <div id="div_id_address1" class="form-group">
            <span class="cobalt-form-error" id="id_address1_errors">
                {{ form.address1.errors|striptags }}
            </span>
            {% if edit_details %}
                {% render_field form.address1 class+="form-control" %}
            {% else %}
                {{ form.address1.value|default:'-' }}
            {% endif %}
        </div>
    </div>
</div>

<!-- ADDRESS 2 -->
<div class="row pb-2">
    <div class="col-2 justify-content-center align-self-center">
        Address 2
    </div>
    <div class="col-8">
        <div id="div_id_address2" class="form-group">
            <span class="cobalt-form-error" id="id_address2_errors">
                {{ form.address2.errors|striptags }}
            </span>
            {% if edit_details %}
                {% render_field form.address2 class+="form-control" %}
            {% else %}
                {{ form.address2.value|default:'-' }}
            {% endif %}
        </div>
    </div>
</div>

<!-- STATE POSTCODE -->
<div class="row pb-2">
    <div class="col-2 justify-content-center align-self-center">
        State
    </div>
    <div class="col-3">
        <div id="div_id_state" class="form-group">
            <span class="cobalt-form-error" id="id_state_errors">
                {{ form.state.errors|striptags }}
            </span>
            {% if edit_details %}
                {% render_field form.state class+="form-control" %}
            {% else %}
                {{ form.state.value|default:'-' }}
            {% endif %}
        </div>
    </div>
    <div class="col-2 justify-content-center align-self-center">
        Postcode
    </div>
    <div class="col-3">
        <div id="div_id_postcode" class="form-group">
            <span class="cobalt-form-error" id="id_postcode_errors">
                {{ form.postcode.errors|striptags }}
            </span>
            {% if edit_details %}
                {% render_field form.postcode class+="form-control" %}
            {% else %}
                {{ form.postcode.value|default:'-' }}
            {% endif %}
        </div>
    </div>
</div>

<!-- DOB -->
<div class="row pb-2">
    <div class="col-2 justify-content-center align-self-center">
        Date of birth
    </div>
    <div class="col-3">
        <div id="div_id_dob" class="form-group">
            <span class="cobalt-form-error" id="id_dob_errors">
                {{ form.dob.errors|striptags }}
            </span>
            {% if edit_details %}
                {% render_field form.dob class+="form-control" %}
            {% else %}
                {{ form.dob.value|default:'-' }}
            {% endif %}
        </div>
    </div>
    {% if member_details.membership_status != "CON" %}
        <div class="col-2 justify-content-center align-self-center">
            Club membership number
        </div>
        <div class="col-3">
            <div id="div_id_club_membership_number" class="form-group">
                <span class="cobalt-form-error" id="id_club_membership_number_errors">
                    {{ form.club_membership_number.errors|striptags }}
                </span>
                {% if edit_details %}
                    {% render_field form.club_membership_number class+="form-control" %}
                {% else %}
                    {{ form.club_membership_number.value|default:'-' }}
                {% endif %}
            </div>
        </div>
    {% endif %}
</div>

<!-- EMERGENCY CONTACT -->
<div class="row pb-2">
    <div class="col-2 justify-content-center align-self-center">
        Emergency contact
    </div>
    <div class="col-8">
        <div id="div_id_emergency_contact" class="form-group">
            <span class="cobalt-form-error" id="id_emergency_contact_errors">
                {{ form.emergency_contact.errors|striptags }}
            </span>
            {% if edit_details %}
                {% render_field form.emergency_contact class+="form-control" %}
            {% else %}
                {{ form.emergency_contact.value|default:'-' }}
            {% endif %}
        </div>
    </div>
</div>

<!-- NOTES -->
<div class="row pb-2">
    <div class="col-12 my-4">
        <div class="form-group">
            <label class="bmd-label-floating" for="id_notes">
                Notes
            </label>
            {% if edit_details %}
                {% render_field form.notes class+="form-control" %}
            {% else %}
                {{ form.notes.value|default:'-' }}
            {% endif %}
        </div>
    </div>
</div>
