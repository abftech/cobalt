{% load static %}
{% load cobalt_tags %}
<div class="card">
    <div class="card-header card-header-info">
        <h2 id="t_tab_heading_settings">Club Settings</h2>
        {% include "organisations/club_menu/settings/nav_htmx.html" with selected="payment" %}
    </div>
    <div class="card-body">
        <p class="font-italic">
            Set the types of payment that the club can accept.
        </p>

        <div class="table-responsive col-md-6">
            <table class="table table-hover table-condensed">
                <thead class="text-primary">
                    <tr>
                        <th>Type</th>
                        <th>Enabled</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Bridge Credits</td>
                        <td>
                            <input
                                type="checkbox"
                                class="toggle_button"
                                data-toggle="toggle"
                                data-size="sm"
                                data-onstyle="primary"
                                disabled
                                checked
                            >
                        </td>
                    </tr>
                    {% for payment_method in payment_methods %}
                        <tr>
                            <td>{{ payment_method.payment_method }}</td>
                            <td
                                hx-post="{% url "organisations:club_menu_tab_settings_toggle_payment_type_htmx" %}"
                                hx-vars="club_id:{{ club.id }},payment_type_id:{{ payment_method.id }}"
                                hx-swap="none"
                            >
                                <input
                                    id="t_toggle_pay_method_{{ payment_method.id }}"
                                    type="checkbox"
                                    class="toggle_button"
                                    data-toggle="toggle"
                                    data-size="sm"
                                    data-onstyle="primary"
                                    {% if payment_method.active %}checked{% endif %}
                                >
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="col-md-3 text-nowrap">
            <form
                hx-post="{% url "organisations:club_menu_tab_settings_payment_htmx" %}"
                hx-target="#id_settings_form"
                hx-vars="club_id:{{ club.id }}"
            >
                {% cobalt_bs4_field form.payment_name %}
                <button name="add" id="id_payments_add_type" class="btn btn-sm btn-success">Add</button>
            </form>
        </div>

    </div>
</div>


<script>
    $( document ).ready(function() {
        // activate toggle buttons
        $('.toggle_button').bootstrapToggle();
    });
</script>
