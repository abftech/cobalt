{% load crispy_forms_filters %}
{% load cobalt_tags %}
{% load crispy_forms_tags %}

<div class="card col-md-6">
    <div class="card-header card-header-rose">
        <h2 class="text-center">Add Member</h2>

    </div>
    <div class="card-body pt-0">

        <p class="mt-3">There are two emails option that can be changed. The main email address is the
            centrally registered one for this (unregistered) user. You can edit this if your club
            added this user. This is visible and usable by all other clubs. If you wish to keep
            the email private or to override it, then you can use a club-specific email address.</p>
        <p>To make things even easier, invite this user to sign up for {{ GLOBAL_TITLE }} so
            they can manage their own contact details as well as the other benefits of membership.</p>

        <h3 class="text-info font-weight-bold settings_message" id="user_edit_message">{{ message }}</h3>

        <form
            hx-post="{% url "organisations:club_menu_tab_members_un_reg_edit_htmx" %}"
            hx-target="#id_member_list_tab"
            hx-vars="club_id:{{ club.id }}, un_reg_id:{{ un_reg.id }}"
        >

            {{ user_form | crispy }}

            {{ club_email_form | crispy }}

            <button type="submit" name="save" class="btn btn-success">Save</button>
            <button type="reset" class="btn btn-info">Reset</button>
            <button type="reset" class="btn btn-info">Send Invite to Join {{ GLOBAL_TITLE }}</button>
        </form>

        <p class="my-0 font-italic small">Origin: {{ un_reg.origin }}</p>
        <p class="my-0 font-italic small">Added On: {{ un_reg.created_at|cobalt_nice_datetime }}</p>
        <p class="my-0 font-italic small">Last Updated: {{ un_reg.updated_at|cobalt_nice_datetime }}</p>
        <p class="my-0 font-italic small">Last Updated By: {{ un_reg.last_updated_by.full_name }}</p>
    </div>
</div>
