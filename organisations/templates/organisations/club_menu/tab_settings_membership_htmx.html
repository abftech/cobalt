{% load crispy_forms_filters %}
{% load cobalt_tags %}

<form
    id="id_settings_form"
>
    <div class="card" style="min-height: 800px; height: auto">
        <div class="card-header card-header-info">
            <h2>Club Settings</h2>
            <a class="btn bg-transparent"
                style="outline: 0; outline-offset: 0; box-shadow: none;"
                hx-post="{% url "organisations:club_menu_tab_settings_basic_htmx" %}"
                hx-indicator=".htmx-indicator"
                hx-target="#id_settings_form">Club Details</a>
            <a class="btn bg-transparent"
                style="outline: 0; outline-offset: 0; box-shadow: none;"
                hx-post="{% url "organisations:club_menu_tab_settings_general_htmx" %}"
                hx-indicator=".htmx-indicator"
                hx-target="#id_settings_form">General</a>

            <button class="btn btn-primary">Membership Types</button>
        </div>

        <div class="card-body">
            <div class="container" ">

                <div class="row">
                    <div class="col-3 mx-0 px-0">
                        <h4 class="text-center">Membership Types</h4>
                        {% for membership_type in membership_types %}
                            <div class="col-12 d-inline-flex w-100 mx-0 px-0 justify-content-between">
                                <button class="membership-btn btn btn-outline-info w-100 mx-2"
                                    id="id_membership-btn-{{ membership_type.id }}"
                                    hx-post="{% url "organisations:club_menu_tab_settings_membership_edit_htmx" %}"
                                    hx-indicator=".htmx-indicator"
                                    hx-target="#id_membership_edit"
                                    hx-vars="membership_type_id:{{ membership_type.id }}"
                                    onclick="membershipTypeButtonSelect(this);"
                                >{{ membership_type.name }} ({{ membership_type.membermembershiptype_set.all|length }})</button>
                            </div>
                        {% endfor %}
                        <div class="col-12 d-inline-flex w-100 mx-0 px-0 justify-content-between">
                            <button
                                class="btn btn-sm btn-success w-100 mx-5"
                                hx-post="{% url "organisations:club_menu_tab_settings_membership_add_htmx" %}"
                                hx-indicator=".htmx-indicator"
                                hx-target="#id_membership_edit"
                            >Add</button>
                        </div>
                    </div>

                    {# The Membership Type form appears here when an entry is clicked on #}
                    <div id="id_membership_edit" class="col-9"></div>
                </div>
            </div>
        </div>


    </form>
