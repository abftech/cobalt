#!/bin/bash

# about: runs unit, integration and smoke tests and produces coverage report

# reset coverage
coverage erase

# Unit Tests
cgit_dev_test_unit --coverage

# Integration Tests
# Only seems to work if running in the foreground, add --show for now
cgit_dev_test_integration --coverage --show

# Smoke Tests
cgit_dev_test_smoke --coverage

# Create coverage
coverage combine
coverage html
open htmlcov/index.html
coverage erase